/*
 * TicketSync - Main Stylesheet
 * Bootstrap customization with Sass
 */

// ==========================================
// 1. Import Theme Variables
// ==========================================

@import 'variables';

// ==========================================
// 2. Bootstrap Variable Overrides
// ==========================================

// Bootstrap semantic colors
$primary: $color-primary;
$secondary: $color-secondary;
$success: $color-success;
$danger: $color-danger;
$warning: $color-warning;
$info: $color-info;
$light: $bg-hard;
$dark: $fg;

// Body
$body-bg: $bg-hard;
$body-color: $fg;

// Links
$link-color: $color-primary;
$link-hover-color: $color-primary-dim;

// Typography
$font-family-sans-serif: $font-family-base;
$line-height-base: $line-height-base;

// Border
$border-radius: $border-radius;
$border-radius-sm: $border-radius-sm;
$border-radius-lg: $border-radius-lg;

// Shadows
$box-shadow-sm: $box-shadow-sm;
$box-shadow: $box-shadow;
$box-shadow-lg: $box-shadow-lg;

// Cards
$card-bg: $bg;
$card-border-color: $border-color;
$card-cap-bg: $bg-soft;
$card-border-radius: $border-radius;

// Forms
$input-bg: $bg;
$input-border-color: $border-color;
$input-color: $fg;
$input-focus-border-color: $color-primary;
$input-focus-box-shadow: 0 0 0 0.25rem rgba(69, 133, 136, 0.25);

// Buttons
$btn-border-radius: 6px;
$btn-font-weight: 500;

// Navbar
$navbar-light-color: $fg;
$navbar-light-hover-color: $color-primary;
$navbar-light-active-color: $color-primary;
$navbar-light-brand-color: $color-accent;
$navbar-light-brand-hover-color: $color-accent-dim;

// Tables
$table-color: $fg;
$table-striped-bg: $bg-hard;
$table-border-color: $border-color;

// Alerts
$alert-border-radius: $border-radius;

// Badges
$badge-font-weight: 500;
$badge-border-radius: 4px;
$badge-padding-y: 0.35em;
$badge-padding-x: 0.65em;

// Modals
$modal-content-bg: $bg;
$modal-content-border-color: $border-color;
$modal-header-border-color: $border-color;

// Dropdowns
$dropdown-bg: $bg;
$dropdown-border-color: $border-color;
$dropdown-link-color: $fg;
$dropdown-link-hover-color: $color-primary;
$dropdown-link-hover-bg: $bg-soft;

// ==========================================
// 3. Import Bootstrap
// ==========================================

@import "../../node_modules/bootstrap/scss/bootstrap";

// ==========================================
// 4. Custom CSS Variables (Runtime Access)
// ==========================================

:root {
    // Base colors
    --bg: #{$bg};
    --bg-soft: #{$bg-soft};
    --bg-hard: #{$bg-hard};
    --fg: #{$fg};

    // Semantic colors
    --color-primary: #{$color-primary};
    --color-primary-dim: #{$color-primary-dim};
    --color-accent: #{$color-accent};
    --color-accent-dim: #{$color-accent-dim};
    --color-muted: #{$color-muted};

    // Layout
    --border-color: #{$border-color};
    --navbar-height: #{$navbar-height};
}

// ==========================================
// 5. Custom Component Styles
// ==========================================

// Navigation
.navbar {
    min-height: var(--navbar-height);
    box-shadow: $box-shadow-sm;
}

.navbar-brand {
    font-weight: 700;
    font-size: 1.5rem;
}

.nav-link {
    font-weight: 500;
    transition: color 0.2s ease;
}

// Cards
.card-header {
    font-weight: 600;
}

// Buttons - ensure good text contrast on colored backgrounds
.btn-primary,
.btn-success,
.btn-danger,
.btn-info {
    color: $btn-light-text;
}

.btn-warning {
    color: $btn-dark-text;
}

// Content wrapper
.content-wrapper {
    min-height: calc(100vh - var(--navbar-height));
    padding-bottom: 2rem;
}

// Info boxes
.info-box {
    background: $bg-hard;
    padding: 1rem;
    border-radius: $border-radius;
    border: 1px solid $border-color;
    border-left: 3px solid $color-primary;
}

.info-label {
    font-size: 0.875rem;
    color: $color-muted;
    font-weight: 500;
    margin-bottom: 0.25rem;
}

.info-value {
    font-weight: 600;
    color: $fg;
}

// Description content
.description-content {
    background: $bg-hard;
    padding: 1.25rem;
    border-radius: $border-radius;
    border: 1px solid $border-color;
    line-height: 1.6;
    word-wrap: break-word;
}

// Ticket cards (no hover effect since only the title link is clickable)

.ticket-id-badge {
    background: linear-gradient(135deg, $color-primary, $color-primary-dim);
    color: $bg;
    padding: 0.5rem 1rem;
    border-radius: $border-radius;
    font-weight: 700;
    font-size: 1.1rem;
    min-width: 60px;
    text-align: center;
}

.ticket-description {
    line-height: 1.5;
}

// Attachment upload zone
.attachment-upload-zone {
    background: $bg;
    padding: 1.5rem;
    border-radius: $border-radius;
    border: 2px dashed $border-color;
    transition: all 0.2s ease;
}

.attachment-upload-zone:hover {
    border-color: $color-primary;
}

.upload-info {
    color: $color-muted;
}

// Attachment cards
.attachment-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.attachment-card:hover {
    transform: translateY(-2px);
}

// Comment cards
.comment-card {
    background: $bg-hard;
}

// Form inputs and textareas - use lighter background
.form-control,
.form-select {
    background: $bg-hard;

    &:focus {
        background: $bg-hard;
    }
}

// Priority badges (Orgmode-inspired color coding)
// Level 3 = A (urgent/high) → Red
.priority-3 {
    background-color: $color-danger;
    color: $btn-light-text;
}

// Level 2 = B (medium) → Yellow/Orange
.priority-2 {
    background-color: $color-warning;
    color: $btn-dark-text;
}

// Level 1 = C (low) → Gray
.priority-1 {
    background-color: $color-secondary;
    color: $btn-light-text;
}

// Page sections
.description-section {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid $border-color;
}
